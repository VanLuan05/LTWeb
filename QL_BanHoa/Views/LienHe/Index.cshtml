@{
    ViewBag.Title = "Liên Hệ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="position-relative text-center text-white mb-5">
    <img src="~/Content/HinhAnh/banner1.png" alt="Banner Liên Hệ" class="w-100" style="height: 250px; object-fit: cover; filter: brightness(60%);">
    <div class="position-absolute top-50 start-50 translate-middle">
        <h1 class="display-4 fw-bold">LIÊN HỆ VỚI CHÚNG TÔI</h1>
        <p class="lead">Chúng tôi luôn lắng nghe ý kiến của bạn</p>
    </div>
</div>

<div class="container my-5">

    @if (ViewBag.ThongBao != null)
    {
        <div class="alert alert-success text-center mb-4">
            <i class="fa fa-check-circle me-2"></i> @ViewBag.ThongBao
        </div>
    }

    <div class="row g-5">
        <div class="col-lg-6">
            <h3 style="color:#036b03; font-weight:bold;" class="mb-4">GỬI TIN NHẮN CHO BLOOM</h3>
            <p class="text-muted mb-4">Nếu bạn có thắc mắc về đơn hàng, sản phẩm hoặc muốn hợp tác, vui lòng điền vào form bên dưới.</p>

            @{
                // Lấy thông tin người dùng từ Session (nếu có)
                var user = Session["TaiKhoan"] as QL_BanHoa.NguoiDung;
            }

            @using (Html.BeginForm("GuiLienHe", "LienHe", FormMethod.Post, new { @class = "p-4 border rounded shadow-sm bg-white" }))
            {
                @Html.AntiForgeryToken()

                <div class="mb-3">
                    <label class="form-label fw-bold">Họ và Tên</label>
                    <input type="text" name="HoTen" class="form-control" placeholder="Nhập tên của bạn"
                           value="@(user != null ? user.HOTEN : "")" required>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Email</label>
                    <input type="email" name="Email" class="form-control" placeholder="example@gmail.com"
                           value="@(user != null ? user.EMAIL : "")" required>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Số điện thoại</label>
                    <input type="tel" name="SDT" class="form-control" placeholder="09xxxxxxx"
                           value="@(user != null ? user.SODIENTHOAI : "")">
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Nội dung cần hỗ trợ</label>
                    <textarea name="NoiDung" class="form-control" rows="5" placeholder="Bạn cần hỗ trợ gì?..." required></textarea>
                </div>

                if (Session["TaiKhoan"] != null)
                {
                    <button type="submit" class="btn btn-success w-100 fw-bold py-2">
                        <i class="fa fa-paper-plane me-2"></i> GỬI TIN NHẮN
                    </button>
                }
                else
                {
                    <a href="@Url.Action("Index", "Login", new { duongdan = Url.Action("Index", "LienHe") })" class="btn btn-warning w-100 fw-bold py-2 text-dark">
                        <i class="fa fa-user me-2"></i> ĐĂNG NHẬP ĐỂ GỬI TIN NHẮN
                    </a>
                }
            }
        </div>

        <div class="col-lg-6">
            <h3 style="color:#d13364; font-weight:bold;" class="mb-4">THÔNG TIN CỬA HÀNG</h3>

            <div class="d-flex mb-4">
                <div class="me-3">
                    <span class="btn btn-outline-success rounded-circle" style="width: 50px; height: 50px; display:flex; align-items:center; justify-content:center;">
                        <i class="fa fa-map-marker-alt fs-4"></i>
                    </span>
                </div>
                <div>
                    <h5 class="fw-bold">Địa chỉ cửa hàng</h5>
                    <p class="text-muted mb-0">140 Lê Trọng Tấn, Phường Tây Thạnh, Thành phố Hồ Chí Minh</p>
                </div>
            </div>

            <div class="d-flex mb-4">
                <div class="me-3">
                    <span class="btn btn-outline-danger rounded-circle" style="width: 50px; height: 50px; display:flex; align-items:center; justify-content:center;">
                        <i class="fa fa-phone-alt fs-4"></i>
                    </span>
                </div>
                <div>
                    <h5 class="fw-bold">Hotline hỗ trợ</h5>
                    <p class="text-muted mb-0"><a href="tel:0999111222" class="text-decoration-none text-dark fw-bold">0999.111.222</a></p>
                    <small class="text-secondary">(8:00 - 21:00 hàng ngày)</small>
                </div>
            </div>

            <div class="d-flex mb-4">
                <div class="me-3">
                    <span class="btn btn-outline-primary rounded-circle" style="width: 50px; height: 50px; display:flex; align-items:center; justify-content:center;">
                        <i class="fa fa-envelope fs-4"></i>
                    </span>
                </div>
                <div>
                    <h5 class="fw-bold">Email</h5>
                    <p class="text-muted mb-0"><a href="mailto:vuonnhabloom@gmail.com" class="text-decoration-none text-dark">vuonnhabloom@gmail.com</a></p>
                </div>
            </div>

            <div class="mt-4 border rounded overflow-hidden shadow-sm">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.0603602740275!2d106.6264773147493!3d10.806689092299837!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752be27d8b4f4d%3A0x92dcba2950430867!2zMTQwIEzDqiBUcuG7jW5nIFTigqVuLCBUw6J5IFRo4bqhbmgsIFTDom4gUGjDuiwgVGjDoG5oIHBo4buRIEjhu5MgQ2jDrSBNaW5oLCBWaWV0bmFt!5e0!3m2!1sen!2s!4v1646732345678!5m2!1sen!2s"
                        width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </div>
</div>